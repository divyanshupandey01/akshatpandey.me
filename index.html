<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Akshat Pandey</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',system-ui,sans-serif}
body{min-height:100vh;background:radial-gradient(circle at top,#111,#000);color:#fff;display:flex;justify-content:center;padding:20px}
.container{max-width:900px;width:100%;text-align:center}
.profile-pic{width:160px;height:160px;border-radius:50%;object-fit:cover;border:4px solid #00ffcc;margin:20px auto 10px}
.socials{display:flex;justify-content:center;gap:20px;margin-bottom:20px}
.socials img{width:32px;height:32px;cursor:pointer}
h1{font-family:'Space Grotesk',sans-serif;font-size:clamp(2.5rem,8vw,4rem)}
.views{display:flex;justify-content:center;gap:8px;align-items:center;font-size:.95rem;opacity:.75;margin-top:6px}
.tagline{opacity:.85;margin:12px 0 30px}
.card{background:rgba(255,255,255,.06);border-radius:18px;padding:26px;margin-bottom:26px;text-align:left}
.btn{display:inline-block;margin-top:14px;padding:10px 20px;background:#00ffcc;color:#000;border-radius:999px;font-weight:700;text-decoration:none}
textarea{width:100%;min-height:100px;background:#000;border:1px solid rgba(0,255,204,.45);border-radius:14px;padding:14px;color:#fff}
textarea::placeholder{color:#fff;font-weight:600}
.comment-btn{margin-top:14px;padding:10px 20px;background:#00ffcc;color:#000;border:none;border-radius:999px;font-weight:700;cursor:pointer}
.comments{margin-top:26px}
.comment{background:rgba(255,255,255,.08);border-radius:14px;padding:14px;margin-bottom:14px;font-size:.95rem;position:relative}
.reply{margin-left:44px;margin-top:10px}
.user{display:flex;align-items:center;gap:10px;margin-bottom:6px}
.user img{width:36px;height:36px;border-radius:50%}
.user b{font-weight:700}
.badge{font-size:.7rem;background:#00ffcc;color:#000;padding:2px 6px;border-radius:6px}
small{opacity:.7;font-family:monospace}
.del{position:absolute;top:8px;right:8px;width:44px;height:44px;border-radius:50%;background:rgba(255,255,255,.18);display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;touch-action:manipulation}
.del:active{transform:scale(0.92);background:rgba(255,107,107,.4)}
.del img{width:20px;height:20px;pointer-events:none}
footer{margin-top:30px;font-size:.9rem;opacity:.65;text-align:center}
.hidden{display:none}
#adminModal,#authModal{position:fixed;inset:0;background:rgba(0,0,0,.75);display:none;align-items:center;justify-content:center;z-index:999}
.modalBox{background:#111;width:90%;max-width:380px;padding:22px;border-radius:16px;text-align:center}
.modalBox input{width:100%;padding:10px;border-radius:10px;border:none;margin-bottom:10px}
.modalBox button{flex:1;padding:10px;border-radius:999px;border:none}
.reply-btn{margin-top:6px;background:#111;color:#00ffcc;border:1px solid rgba(0,255,204,.45)}
</style>
</head>

<body>
<div class="container">

<img src="https://i.postimg.cc/SKhqgHqv/IMG-20260111-212449-914.webp" class="profile-pic">

<div class="socials">
  <a href="https://instagram.com/vedicash" target="_blank"><img src="https://i.postimg.cc/GmNvBpX1/instagram.png"></a>
  <a href="mailto:akshatpandey1307@gmail.com"><img src="https://i.postimg.cc/bNwn3nMZ/gmail.png"></a>
  <a href="https://www.linkedin.com/in/akshat-pandey-5b2a552a3" target="_blank"><img src="https://i.postimg.cc/764G7J79/linkedin.png"></a>
</div>

<h1>Akshat Pandey</h1>
<div class="views">üëÅÔ∏è <span id="viewCount">loading...</span> views</div>
<div class="tagline">Personal Landing Page</div>

<div class="card">
  Nigga this my landing page running on my personal server computer 24/7.
  <br><br>
  <a href="https://naturally-partial-wrote-scout.trycloudflare.com/a80cccda/instagram" target="_blank">
    https://naturally-partial-wrote-scout.trycloudflare.com/a80cccda/instagram
  </a><br>
  <a class="btn" href="https://naturally-partial-wrote-scout.trycloudflare.com/a80cccda/instagram">Go ‚Üí</a>
</div>

<div class="card">
  <h2>Drop a Comment</h2>
  <textarea id="commentInput" placeholder="Write a comment..."></textarea>
  <button class="comment-btn" onclick="addComment()">Post</button>
  <div class="comments" id="comments"></div>
</div>

<footer>¬© 2026 Akshat Pandey ‚Ä¢ Hosted On My Infrastructure</footer>
</div>

<div id="authModal">
  <div class="modalBox">
    <h3>Create Profile / Login</h3>
    <input id="email" placeholder="Email *">
    <input id="password" type="password" placeholder="Password *">
    <input id="username" placeholder="Username *">
    <input id="pfp" type="file">
    <button onclick="authUser()">Continue</button>
  </div>
</div>

<div id="adminModal">
  <div class="modalBox">
    <h3>Admin Verification</h3>
    <p style="opacity:.75;font-size:.9rem;margin-bottom:14px">
      Please enter the Admin Passcode<br>
      If you are not admin please contact
      <a href="https://instagram.com/scionash" target="_blank" style="color:#00ffcc">@scionash</a>
    </p>
    <input id="adminPass" type="password" placeholder="Admin passcode">
    <div style="display:flex;gap:10px">
      <button onclick="closeAdmin()">Cancel</button>
      <button onclick="confirmDelete()" style="background:#ff6b6b;font-weight:700">Delete</button>
    </div>
  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, deleteDoc, doc, serverTimestamp, getDoc, setDoc, updateDoc, increment } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js";

const ADMIN_KEY="@Akshat130807";
const ADMIN_NAME="Akshat Pandey";
const ADMIN_PFP="https://i.postimg.cc/SKhqgHqv/IMG-20260111-212449-914.webp";
const firebaseConfig={apiKey:"AIzaSyCY88mD-sHqxZiOGkQZbliTXG1QmySPesI",authDomain:"akshat-comments.firebaseapp.com",projectId:"akshat-comments"};

const app=initializeApp(firebaseConfig);
const db=getFirestore(app);
const auth=getAuth(app);
let currentUser=null;

const viewRef=doc(db,"views","counter");
async function updateViews(){
  const snap=await getDoc(viewRef);
  if(!snap.exists()){await setDoc(viewRef,{count:1});viewCount.textContent=1;}
  else{await updateDoc(viewRef,{count:increment(1)});const u=await getDoc(viewRef);viewCount.textContent=u.data().count;}
}
updateViews();

onAuthStateChanged(auth,u=>{
  if(u){currentUser=u;authModal.style.display="none";}
  else authModal.style.display="flex";
});

window.authUser=async()=>{
  try{
    const res=await createUserWithEmailAndPassword(auth,email.value,password.value);
    await setDoc(doc(db,"users",res.user.uid),{username:username.value,pfp:"",created:serverTimestamp()});
  }catch{
    await signInWithEmailAndPassword(auth,email.value,password.value);
  }
};

window.addComment=async()=>{
  if(!currentUser) return;
  await addDoc(collection(db,"comments"),{text:commentInput.value,uid:currentUser.uid,time:serverTimestamp(),replies:[]});
  commentInput.value="";
};

let deleteId=null;
const commentsRef=collection(db,"comments");
onSnapshot(query(commentsRef,orderBy("time","desc")),async snap=>{
  comments.innerHTML="";
  for(const d of snap.docs){
    const c=d.data();
    const u=await getDoc(doc(db,"users",c.uid));
    const user=u.data();
    const isAdmin=(user?.username===ADMIN_NAME);
    const div=document.createElement("div");
    div.className="comment";
    div.innerHTML=`
      <div class="del" onclick="openAdmin('${d.id}')"><img src="https://cdn-icons-png.flaticon.com/512/6861/6861362.png"></div>
      <div class="user">
        <img src="${isAdmin?ADMIN_PFP:(user?.pfp||'https://i.postimg.cc/3N1Z0vZy/user.png')}">
        <b>${isAdmin?ADMIN_NAME:user?.username}</b>${isAdmin?'<span class="badge">ADMIN</span>':''}
      </div>
      <small>üïí ${c.time?new Date(c.time.seconds*1000).toLocaleString():'Just now'}</small>
      <p>${c.text}</p>
      <button class="reply-btn" onclick="replyPrompt('${d.id}')">Reply</button>
      <div class="reply" id="r_${d.id}"></div>
    `;
    comments.appendChild(div);
  }
});

window.replyPrompt=async(id)=>{
  const text=prompt("Reply:");
  if(!text) return;
  await updateDoc(doc(db,"comments",id),{replies:[]});
  await addDoc(collection(db,"comments",id,"replies"),{text,uid:currentUser.uid,time:serverTimestamp()});
};

window.openAdmin=id=>{deleteId=id;adminModal.style.display="flex";}
window.closeAdmin=()=>{deleteId=null;adminModal.style.display="none";adminPass.value="";}
window.confirmDelete=async()=>{
  if(adminPass.value!==ADMIN_KEY) return;
  await deleteDoc(doc(db,"comments",deleteId));
  closeAdmin();
};
</script>
</body>
</html>
